<!DOCTYPE HTML>
<html>
  <meta charset = "utf-8">
  <head>


    <script type="module">


    let keysPressed = []

    keysPressed[37] = false
    keysPressed[38] = false
    keysPressed[39] = false
    keysPressed[40] = false


    document.addEventListener('keydown', (event) => {
      console.log(event)
      keysPressed[event.keyCode] = true
    })

    document.addEventListener('keyup', (event) => {
      console.log(event)
      keysPressed[event.keyCode] = false
    })


    class Vector2d {
      constructor(x, y) {
        this.height = height;
        this.width = width;
      }
      add(another) {
        return new Vector2d();
      }

      get x() {
        return this.x;
      }

      /*
       * Vector Addition with another Vector
       * @return Returns another Vector
       */
      add(another) {
        return new Vector2d(this.x + another.x, this.y + another.y);
      }

      mul(another) {}

      length() {}

      get toString() {
        return `[${x},${y}]`;
      }
    }



    class Point {
      constructor(x, y) {
        this.x = x;
        this.y = y;
      }
      toString() {
        return "(" + this.x + ", " + this.y + ")";
      }
      getX() {
        return this.x;
      }
      getY() {
        return this.y;
      }
      move(x, y) {
        this.x = x;
        this.y = y;
      }
    }





    let canvas = null;
    let ctx = null;

    var point = new Point(5,10);
    console.log(point.toString());
    console.dir(point);

    window.onload = function(){
      init();
    }

    function init(){
      canvas = document.getElementById('canvas')
      ctx = canvas.getContext('2d')
      window.requestAnimationFrame(animate)
    }

    function animate() {
      update()
      clearScreen()
      draw()
      window.requestAnimationFrame(animate)
    }
    function draw() {
      ctx.fillStyle = '#000000'
      ctx.fillRect(point.getX(), point.getY(), 10, 10)
    }
    function update() {

      if(keysPressed[37]) //LEFT
        point.x -= 10
      if(keysPressed[38]) //UP
        point.y -= 10
      if(keysPressed[39]) //RIGHT
          point.x += 10
      if(keysPressed[40]) //DOWN
          point.y += 10
    }
    function clearScreen(){
      ctx.fillStyle = '#FFFFFF'
      ctx.fillRect(0,0,800,600)
    }

    </script>
  </head>
  <body>
    <h1> Snake! </h1>
    <canvas width="800" height="600" id="canvas">

    </canvas>
  </body>
</html>
